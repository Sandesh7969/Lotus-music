import { Kazagumo } from '../Kazagumo';
import { KazagumoPlayer } from '../Index';
import { KazagumoTrack } from '../Managers/Supports/KazagumoTrack';
import { PlayerUpdate, TrackExceptionEvent, TrackStuckEvent, Utils, WebSocketClosedEvent } from 'shoukaku';
import { Snowflake } from 'discord.js';
export interface KazagumoOptions {
    /** Default search engine if no engine was provided. Default to youtube */
    defaultSearchEngine: SearchEngines;
    /** Kazagumo plugins */
    plugins?: KazagumoPlugin[];
    /** Source that will be forced to resolve when playing it */
    sourceForceResolve?: string[];
    /** The track resolver. Make sure you set <KazagumoTrack>.track for it to work. (I'm not responsible for any error during playback if you don't set it right) */
    trackResolver?: (this: KazagumoTrack, options?: ResolveOptions) => Promise<boolean>;
    /** The default youtube thumbnail's size */
    defaultYoutubeThumbnail?: YoutubeThumbnail;
    /** Extend some of the Structures */
    extends?: {
        player?: Utils.Constructor<KazagumoPlayer>;
    };
    /** Send to guild's shard */
    send: (guildId: Snowflake, payload: Payload) => void;
}
export declare type SearchEngines = 'youtube' | 'soundcloud' | 'youtube_music' | string;
export declare type YoutubeThumbnail = 'default' | 'hqdefault' | 'mqdefault' | 'sddefault' | 'maxresdefault';
export interface Payload {
    /** The OP code */
    op: number;
    d: {
        guild_id: string;
        channel_id: string | null;
        self_mute: boolean;
        self_deaf: boolean;
    };
}
export declare const escapeRegExp: (str: string) => string;
export declare const SourceIDs: {
    youtube: string;
    youtube_music: string;
    soundcloud: string;
};
export interface KazagumoPlayerOptions {
    guildId: Snowflake;
    voiceId: Snowflake;
    textId: Snowflake;
    deaf: boolean;
    volume: number;
    /** Whether the node for searching track should be the same as the node for playing track. Default: true */
    searchWithSameNode?: boolean;
}
export interface ResolveOptions {
    overwrite?: boolean;
    forceResolve?: boolean;
    player?: KazagumoPlayer;
}
export interface CreatePlayerOptions {
    /** The player's guild ID */
    guildId: Snowflake;
    /** The player's voice ID */
    voiceId: Snowflake;
    /** The player's text ID */
    textId: Snowflake;
    /** Whether the bot should deafen */
    deaf?: boolean;
    /** Whether the bot should mute */
    mute?: boolean;
    /** The player's guild's shardId */
    shardId?: number;
    /** Balance the node? */
    loadBalancer?: boolean;
    /** The player's volume */
    volume?: number;
    /** Use specific node */
    nodeName?: string;
    /** The player's data, usable when you extends it */
    data?: unknown;
}
export interface RawTrack {
    track: string;
    info: {
        title: string;
        uri: string;
        identifier: string;
        sourceName: string;
        isSeekable: boolean;
        isStream: boolean;
        author?: string;
        length?: number;
        position?: number;
        thumbnail?: string;
    };
}
export interface KazagumoEvents {
    playerDestroy: [player: KazagumoPlayer];
    playerCreate: [player: KazagumoPlayer];
    playerStart: [player: KazagumoPlayer, track: KazagumoTrack];
    playerEnd: [player: KazagumoPlayer, track?: KazagumoTrack | null];
    playerEmpty: [player: KazagumoPlayer];
    playerClosed: [player: KazagumoPlayer, data: WebSocketClosedEvent];
    playerUpdate: [player: KazagumoPlayer, data: PlayerUpdate];
    playerException: [player: KazagumoPlayer, data: TrackExceptionEvent];
    playerResumed: [player: KazagumoPlayer];
    playerStuck: [player: KazagumoPlayer, data: TrackStuckEvent];
    playerResolveError: [player: KazagumoPlayer, track: KazagumoTrack, message?: string];
    playerMoved: [player: KazagumoPlayer, state: PlayerMovedState, channels: PlayerMovedChannels];
    debug: [message: string];
}
export declare enum Events {
    PlayerDestroy = "playerDestroy",
    PlayerCreate = "playerCreate",
    PlayerStart = "playerStart",
    PlayerEnd = "playerEnd",
    PlayerEmpty = "playerEmpty",
    PlayerClosed = "playerClosed",
    PlayerUpdate = "playerUpdate",
    PlayerException = "playerException",
    PlayerError = "playerError",
    PlayerResumed = "playerResumed",
    PlayerStuck = "playerStuck",
    PlayerResolveError = "playerResolveError",
    PlayerMoved = "playerMoved",
    Debug = "debug"
}
export interface PlayerMovedChannels {
    oldChannelId?: string | null;
    newChannelId?: string | null;
}
export declare enum PlayerMovedState {
    Unknown = "UNKNOWN",
    Joined = "JOINED",
    Left = "LEFT",
    Moved = "MOVED"
}
export interface KazagumoSearchOptions {
    requester: unknown;
    engine?: SearchEngines;
    nodeName?: string;
}
export interface KazagumoSearchResult {
    type: SearchResultTypes;
    playlistName?: string;
    tracks: KazagumoTrack[];
}
export declare enum SearchResultTypes {
    Playlist = "PLAYLIST",
    Track = "TRACK",
    Search = "SEARCH"
}
export declare const SupportedSources: string[];
export interface PlayOptions {
    noReplace?: boolean;
    pause?: boolean;
    startTime?: number;
    endTime?: number;
    replaceCurrent?: boolean;
}
export declare enum State {
    CONNECTING = 0,
    CONNECTED = 1,
    DISCONNECTING = 2,
    DISCONNECTED = 3
}
export declare enum PlayerState {
    CONNECTING = 0,
    CONNECTED = 1,
    DISCONNECTING = 2,
    DISCONNECTED = 3,
    DESTROYING = 4,
    DESTROYED = 5
}
export declare class KazagumoPlugin {
    load(kazagumo: Kazagumo): void;
    unload(kazagumo: Kazagumo): void;
}
export declare class KazagumoError extends Error {
    code: number;
    message: string;
    constructor(code: number, message: string);
}
